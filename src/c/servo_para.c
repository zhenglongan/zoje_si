//--------------------------------------------------------------------------------------
//        COPYRIGHT(C) 2006 Beijing xingdahao technology Co., Ltd.
//                     ALL RIGHTS RESERVED 
//  Project Number: sewing_machine_controller 
//  File Name : action.c
//  Description: jgj miscellaneous function
//  Version    Date     Author    Description
//  ...
//--------------------------------------------------------------------------------------

//--------------------------------------------------------------------------------------
// 	Includes
//--------------------------------------------------------------------------------------
#include "..\..\include\sfr62p.h"         // M16C/62P special function register definitions
#include "..\..\include\typedef.h"        // Data type define
#include "..\..\include\common.h"         // Common constants definition
#include "..\..\include\variables.h"      // External variables declaration
#include "..\..\include\stepmotor.h"      // stepper motor function
#include "..\..\include\delay.h"          // delay time definition    
#include "..\..\include\motor.h"          // constants definition
#include "..\..\include\math.h"           // math library definition
#include "..\..\include\communication.h"  // Communication function
#include "..\..\include\solenoid.h"       // solenoid driver definition
#include "..\..\include\ctmotor.h"        // thread clamp motor function
#include "..\..\include\M_debug.h"        

#if SEND_SERVO_PARA_ONLINE

//--------------------------------------------------------------------------------------
const UINT8 Y_SERVO_PARA_KPP[40][]=
{
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30 
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30 
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.1   
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 100,105,105,105,105,105,105,105,105,105},//1.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 100,105,105,105,105,105,105,105,105,105},//1.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 100,105,105,105,105,105,105,105,105,105},//1.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 100,105,105,105,100,100,100,100,100,100},//1.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 100,105,105,105,100,100,100,100,100,100},//2.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 100,105,105,105,90, 90, 90, 90, 90, 90},//2.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 100,105,105,105,70, 70, 70, 70, 70, 70},//2.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 100,105,105,105,55, 55, 55, 55, 55, 55},//2.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {105,105,105,105,105,105,105,105,105,100,90, 80, 80, 80, 80, 80, 80, 80, 80, 70, 60, 55, 50, 45, 56, 55, 55, 55, 55},//2.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 80, 50, 80, 80, 80, 80, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//4.0
};

//--------------------------------------------------------------------------------------
const UINT8 Y_SERVO_PARA_KPS[40][]=
{
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30 
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30 
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.1   
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//1.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//1.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//1.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//1.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//2.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//2.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//2.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//2.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//2.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90},//2.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//4.0
};

const UINT8 X_SERVO_PARA_KPP[40][]=
{
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30 
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30 
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.1   
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//4.0
};

//--------------------------------------------------------------------------------------
const UINT8 X_SERVO_PARA_KPS[40][]=
{
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30 
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//0.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30 
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.1   
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//1.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//2.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.0
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.1
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.2
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.3
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.4
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.5
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.6
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.7
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.8
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//3.9
//	2   3	4	5	6	7	8	9   10  11	12  13	14  15	16  17	18  19	20  21	22  23  24  25  26  27  28  29  30    
   {80, 50, 30, 30, 30, 29, 80, 70, 50, 50, 50, 50, 50, 50, 50, 55, 50, 52, 52, 52, 52, 50, 50, 50, 56, 55, 55, 55, 55},//4.0
};


void send_servo_parameter(UINT16 xspeed)
{
	UINT8 tmpx,tmpy,kpp1,kpp2,kps1,kps2,speed;
	UINT16 cmd_kpp,cmd_kps,cmd_kis,cmd_uimax,cmd_kff;
	
	speed = xspeed -2;
	tmpx = fabsm(xstep_cou)>>1;
	tmpy = fabsm(ystep_cou)>>1;
	if( tmpx >= 40)
	    tmpx = 40;
	if( tmpy >=40)
	    tmpy = 40;
		
	if( tmpx > 0)
		tmpx = tmpx - 1;
    if(	tmpy > 0)
		tmpy = tmpy - 1;			
		
	cmd_kpp = Y_SERVO_PARA_KPP[tmpy][speed];
	cmd_kpp = ( cmd_kpp << 8) + X_SERVO_PARA_KPP[tmpx][speed];
	if( cmd_kpp == 0x5555)
	    cmd_kpp = 0x5556;
	cmd_kps = Y_SERVO_PARA_KPS[tmpy][speed];
	cmd_kps = ( cmd_kps << 8) + X_SERVO_PARA_KPS[tmpx][speed];
	if( cmd_kps == 0x5555)
	    cmd_kps = 0x5556;
	cmd_kis   = 0x0101;
	cmd_uimax = 0x0101;
	cmd_kff   = 0x0000;
	
	monitor_x_step = tmpx;
	monitor_tabx_time = X_SERVO_PARA_KPP[tmpx][speed];					
	monitor_x_time = X_SERVO_PARA_KPS[tmpx][speed];	
	
	monitor_y_step = tmpy;
	monitor_taby_time = Y_SERVO_PARA_KPP[tmpy][speed];					
	monitor_y_time = Y_SERVO_PARA_KPS[tmpy][speed];	
	monitor_point = cmd_kpp;
	//cmd_kpp = 0x3232;
	//cmd_kps = 0x3232;
	//
	send_dsp1_command2(0x000e);
	send_dsp1_command2(cmd_kpp);
	send_dsp1_command2(cmd_kps);
	send_dsp1_command2(cmd_kis);
	send_dsp1_command2(cmd_uimax);
	send_dsp1_command2(cmd_kff);
	
}


void close_servo_parameter_function(void)
{
	send_dsp1_command2(0x000e);
	send_dsp1_command2(0);
	send_dsp1_command2(0);
	send_dsp1_command2(0);
	send_dsp1_command2(0);
	send_dsp1_command2(0);	
}


#endif